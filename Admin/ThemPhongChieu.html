<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Thêm khuyến mãi mới</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="assets/images/logo/favicon.png">

    <!-- page css -->
    <link href="assets/vendors/datatables/dataTables.bootstrap.min.css" rel="stylesheet">

    <!-- Core css -->
    <link href="assets/css/app.min.css" rel="stylesheet">
    <style>
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        #seatContainer {
            display: flex;
            flex-direction: column;
            align-items:center;
            gap: 10px;
            width: 100%;
            max-width: 100%;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            flex-wrap: wrap;
        }
        .seat {
            width: 50px;
            height: 50px;
            color: #fff;
            text-align: center;
            line-height: 50px;
            cursor: pointer;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        .seat.normal { background-color: #3498db; } /* Màu ghế thường */
        .seat.vip { background-color: #e67e22; }    /* Màu ghế VIP */
        .row {
            display: flex;
            align-items: center;
            gap: 5px;
            flex-wrap: nowrap;
            position: relative;
        }
        .add-seat-button {
            width: 35px;
            height: 35px; 
            background-color: #27ae60;
            color: white;
            text-align: center;
            line-height: 35px;
            cursor: pointer;
            border: none;
            border-radius: 50%;
            font-size: 20px;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        .add-seat-button:hover { background-color: #1e8449; }
        .delete-row-button:hover { background-color: #c00000; }
        .delete-row-button {
            position: absolute;
            top: 0;
            right: -40px;
            width: 35px;
            height: 35px;
            background-color: #e74c3c;
            color: white;
            text-align: center;
            line-height: 25px;
            cursor: pointer;
            border-radius: 50%;
            font-weight: bold;
            font-size: 18px;
        }
        button {
            background-color: #2980b9;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            margin-bottom: 15px;
        }
        .btn-add-row { padding:10px 20px; }
        button:hover { background-color: #21618c; }
        input[type="number"], input[type="text"] {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
            outline: none;
        }
        input[type="number"]:focus, input[type="text"]:focus { border-color: #2980b9; }
        /* Modal styling */
        .modal {
            display: none;
            position: fixed;
            z-index: 99999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
            padding-top: 60px;
        }
        .modal-content {
            background-color: #fff;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 300px;
            border-radius: 10px;
            text-align: center;
        }
        .modal-content button {
            margin: 10px 0;
            padding: 10px;
            width: 100%;
            border-radius: 5px;
            border: none;
            cursor: pointer;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        .centerContent {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
    </style>
</head>

<body>
    <div class="app">
        <div class="layout">
            <!-- Header START -->
            <div class="header">
                <div class="logo logo-dark">
                    <a href="index.html">
                        <img src="assets/images/logo/logo.png" alt="Logo">
                        <img class="logo-fold" src="assets/images/logo/logo-fold.png" alt="Logo">
                    </a>
                </div>
                <div class="logo logo-white">
                    <a href="index.html">
                        <img src="assets/images/logo/logo-white.png" alt="Logo">
                        <img class="logo-fold" src="assets/images/logo/logo-fold-white.png" alt="Logo">
                    </a>
                </div>
                <div class="nav-wrap">
                    <ul class="nav-left">
                        <li class="desktop-toggle">
                            <a href="javascript:void(0);">
                                <i class="anticon"></i>
                            </a>
                        </li>
                        <li class="mobile-toggle">
                            <a href="javascript:void(0);">
                                <i class="anticon"></i>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" data-toggle="modal" data-target="#search-drawer">
                                <i class="anticon anticon-search"></i>
                            </a>
                        </li>
                    </ul>
                    <ul class="nav-right">
                        <li class="dropdown dropdown-animated scale-left">
                            <a href="javascript:void(0);" data-toggle="dropdown">
                                <i class="anticon anticon-bell notification-badge"></i>
                            </a>
                            <div class="dropdown-menu pop-notification">
                                <div class="p-v-15 p-h-25 border-bottom d-flex justify-content-between align-items-center">
                                    <p class="text-dark font-weight-semibold m-b-0">
                                        <i class="anticon anticon-bell"></i>
                                        <span class="m-l-10">Thông báo</span>
                                    </p>
                                    <a class="btn-sm btn-default btn" href="javascript:void(0);">
                                        <small>Xem tất cả</small>
                                    </a>
                                </div>
                                <div class="relative">
                                    <div class="overflow-y-auto relative scrollable" style="max-height: 300px">
                                        <a href="javascript:void(0);" class="dropdown-item d-block p-15 border-bottom">
                                            <div class="d-flex">
                                                <div class="avatar avatar-blue avatar-icon">
                                                    <i class="anticon anticon-mail"></i>
                                                </div>
                                                <div class="m-l-15">
                                                    <p class="m-b-0 text-dark">Bạn có một tin nhắn mới</p>
                                                    <p class="m-b-0"><small>8 phút trước</small></p>
                                                </div>
                                            </div>
                                        </a>
                                        <a href="javascript:void(0);" class="dropdown-item d-block p-15 border-bottom">
                                            <div class="d-flex">
                                                <div class="avatar avatar-cyan avatar-icon">
                                                    <i class="anticon anticon-user-add"></i>
                                                </div>
                                                <div class="m-l-15">
                                                    <p class="m-b-0 text-dark">Một người dùng mới đăng ký</p>
                                                    <p class="m-b-0"><small>7 tiếng trước</small></p>
                                                </div>
                                            </div>
                                        </a>
                                        <a href="javascript:void(0);" class="dropdown-item d-block p-15 border-bottom">
                                            <div class="d-flex">
                                                <div class="avatar avatar-red avatar-icon">
                                                    <i class="anticon anticon-user-add"></i>
                                                </div>
                                                <div class="m-l-15">
                                                    <p class="m-b-0 text-dark">Thông báo hệ thống</p>
                                                    <p class="m-b-0"><small>8 tiếng trước</small></p>
                                                </div>
                                            </div>
                                        </a>
                                        <a href="javascript:void(0);" class="dropdown-item d-block p-15 ">
                                            <div class="d-flex">
                                                <div class="avatar avatar-gold avatar-icon">
                                                    <i class="anticon anticon-user-add"></i>
                                                </div>
                                                <div class="m-l-15">
                                                    <p class="m-b-0 text-dark">Bạn có một cập nhật mới</p>
                                                    <p class="m-b-0"><small>2 ngày trước</small></p>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="dropdown dropdown-animated scale-left">
                            <div class="pointer" data-toggle="dropdown">
                                <div class="avatar avatar-image  m-h-10 m-r-15">
                                    <img src="assets/images/avatars/thumb-3.jpg"  alt="">
                                </div>
                            </div>
                            <div class="p-b-15 p-t-20 dropdown-menu pop-profile">
                                <div class="p-h-20 p-b-15 m-b-10 border-bottom">
                                    <div class="d-flex m-r-50">
                                        <div class="avatar avatar-lg avatar-image">
                                            <img src="assets/images/avatars/thumb-3.jpg" alt="">
                                        </div>
                                        <div class="m-l-10">
                                            <p class="m-b-0 text-dark font-weight-semibold">Dương Công Minh</p>
                                            <p class="m-b-0 opacity-07">UI/UX Desinger</p>
                                        </div>
                                    </div>
                                </div>
                                <a href="DangNhap.html" class="dropdown-item d-block p-h-15 p-v-10">
                                    <div class="d-flex align-items-center justify-content-between">
                                        <div>
                                            <i class="anticon opacity-04 font-size-16 anticon-logout"></i>
                                            <span class="m-l-10">Đăng xuất</span>
                                        </div>
                                        <i class="anticon font-size-10 anticon-right"></i>
                                    </div>
                                </a>
                            </div>
                        </li>
                        <li>
                            <a href="javascript:void(0);" data-toggle="modal" data-target="#quick-view">
                                <i class="anticon anticon-appstore"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>    
            <!-- Header END -->

            <!-- Side Nav START -->
            <div class="side-nav">
                <div class="side-nav-inner">
                    <ul class="side-nav-menu scrollable">
                        <li class="nav-item dropdown">
                            <a class="dropdown-toggle" href="javascript:void(0);">
                                <span class="icon-holder">
                                    <i class="anticon anticon-dashboard"></i>
                                </span>
                                <span class="title">Quản trị hệ thống</span>
                                <span class="arrow">
                                    <i class="arrow-icon"></i>
                                </span>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="index.html">Thống kê</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="dropdown-toggle" href="javascript:void(0);">
                                <span class="icon-holder">
                                    <i class="anticon anticon-team"></i>
                                </span>
                                <span class="title">Quản lý tài khoản</span>
                                <span class="arrow">
                                    <i class="arrow-icon"></i>
                                </span>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="DanhSachTaiKhoan.html">Danh sách tài khoản</a>
                                </li>
                                <li>
                                    <a href="PhanQuyenTaiKhoan.html">Phân quyền tài khoản</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="dropdown-toggle" href="javascript:void(0);">
                                <span class="icon-holder">
									<i class="anticon anticon-folder-open"></i>
								</span>
                                <span class="title">Quản lý phim</span>
                                <span class="arrow">
									<i class="arrow-icon"></i>
								</span>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="ThemPhimMoi.html">Thêm phim mới</a>
                                </li>
                                <li>
                                    <a href="DanhSachPhim.html">Danh sách phim</a>
                                </li>
                                <li>
                                    <a href="TheLoai.html">Thể loại</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="dropdown-toggle" href="javascript:void(0);">
                                <span class="icon-holder">
                                    <i class="anticon anticon-hdd"></i>
                                </span>
                                <span class="title">Quản lý suất chiếu</span>
                                <span class="arrow">
                                    <i class="arrow-icon"></i>
                                </span>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="SuatChieu.html">Suất chiếu</a>
                                </li>
                                <li>
                                    <a href="GioChieu.html">Giờ chiếu</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="dropdown-toggle" href="javascript:void(0);">
                                <span class="icon-holder">
                                    <i class="anticon anticon-table"></i>
                                </span>
                                <span class="title">Quản lý phòng chiếu</span>
                                <span class="arrow">
                                    <i class="arrow-icon"></i>
                                </span>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="PhongChieu.html">Danh sách phòng chiếu</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="dropdown-toggle" href="javascript:void(0);">
                                <span class="icon-holder">
                                    <i class="anticon anticon-gift"></i>
                                </span>
                                <span class="title">Quản lý combo</span>
                                <span class="arrow">
                                    <i class="arrow-icon"></i>
                                </span>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="Combo.html">Danh sách combo</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="dropdown-toggle" href="javascript:void(0);">
                                <span class="icon-holder">
                                    <i class="anticon anticon-read"></i>
                                </span>
                                <span class="title">Quản lý tin tức</span>
                                <span class="arrow">
                                    <i class="arrow-icon"></i>
                                </span>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="DanhSachTinTuc.html">Danh sách tin tức</a>
                                </li>
                                <li>
                                    <a href="ThemTinTuc.html">Thêm tin tức mới</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown open">
                            <a class="dropdown-toggle" href="javascript:void(0);">
                                <span class="icon-holder">
                                    <i class="anticon anticon-dollar"></i>
                                </span>
                                <span class="title">Quản lý khuyến mãi</span>
                                <span class="arrow">
                                    <i class="arrow-icon"></i>
                                </span>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="DanhSachKhuyenMai.html">Danh sách khuyến mãi</a>
                                </li>
                                <li class="active">
                                    <a href="ThemKhuyenMai.html">Thêm khuyến mãi mới</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="dropdown-toggle" href="javascript:void(0);">
                                <span class="icon-holder">
                                    <i class="anticon anticon-book"></i>
                                </span>
                                <span class="title">Quản lý vé</span>
                                <span class="arrow">
                                    <i class="arrow-icon"></i>
                                </span>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="VeXemPhim.html">Danh sách vé</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="dropdown-toggle" href="javascript:void(0);">
                                <span class="icon-holder">
                                    <i class="anticon anticon-message"></i>
                                </span>
                                <span class="title">Phản hổi khách hàng</span>
                                <span class="arrow">
                                    <i class="arrow-icon"></i>
                                </span>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="PhanHoiKhachHang.html">Chat với khách hàng</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- Side Nav END -->

           <!-- Page Container START -->
           <div class="page-container">

            <!-- Content Wrapper START -->
            <div class="main-content">
                <div class="page-header">
                    <div class="header-sub-title">
                        <nav class="breadcrumb breadcrumb-dash">
                            <a href="#" class="breadcrumb-item"><i class="anticon anticon-home m-r-5"></i>Trang chủ</a>
                            <a class="breadcrumb-item" href="#">Quản lý phòng chiếu</a>
                            <span class="breadcrumb-item active">Thêm phòng chiếu mới</span>
                        </nav>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body" style="max-width: 1100px;">
                        <h4 class="p-b-30">Nhập thông tin phòng chiếu</h4>
                        <form id="myForm" class="m-b-150">
                            <div class="page-header no-gutters has-tab">
                                <ul class="nav nav-tabs">
                                    <li class="nav-item">
                                        <a class="nav-link active" data-toggle="tab" href="#product-edit-basic">Thông tin</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" data-toggle="tab" href="#product-edit-description">Chỗ ngồi</a>
                                    </li>
                                </ul>
                            </div>
                            <div class="tab-content m-t-15">
                                <div class="tab-pane fade active show" id="product-edit-basic">
                                    <div class="card-body">
                                        <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <label class="font-weight-semibold" for="roommName">Tên phòng chiếu</label>
                                                <input type="text" class="form-control" id="roommName" placeholder="Nhập tên phòng">
                                            </div>
                                            <div class="form-group col-md-4">
                                                <label class="font-weight-semibold">Sức chứa</label>
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="Sức chứa">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text">Chỗ</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-4">
                                                <label class="font-weight-semibold">Tình trạng phòng chiếu</label>
                                                <select class="form-control">
                                                    <option selected value="1">Bình thường</option>
                                                    <option value="2">Bảo trì</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="product-edit-description">
                                    <div class="card">
                                        <div class="m-20">
                                            <div class="d-flex align-items-center m-b-10">
                                                <div class="seat normal"></div>
                                                <h5 class="m-l-20">Ghế Thường</h5>
                                            </div>
                                            <div class="d-flex align-items-center">
                                                <div class="seat vip "></div>
                                                <h5 class="m-l-20">Ghế Vip</h5>
                                            </div>
                                        </div>
                                        <div class="card-body centerContent">
                                            <h3>Tạo sơ đồ ghế ngồi</h3>
                                            <div class="table-responsive text-center m-b-20" style="max-width: 700px;">
                                                <img style="max-width: 100%;" src="https://betacinemas.vn/Assets/global/img/booking/ic-screen.png" alt="">
                                            </div>
                                            <div id="seatContainer" class="container">
                                            </div>
                                            <div class="m-t-30 d-md-flex align-items-center">
                                                <div class="text-center m-v-10">
                                                    <div class="btn btn-success m-t-10 btn-add-row m-b-0" onclick="addRow()">Thêm hàng ghế</div>
                                                    <div class="btn btn-success m-t-10 btn-add-row m-b-0" id="saveButton" onclick="saveRoomData()" style="display: none;">Lưu</div>
                                                </div>
                                            </div>
                                            <!-- Modal cho tùy chọn thêm ghế hoặc thay đổi loại ghế cho hàng -->
                                            <div id="optionModal" class="modal">
                                                <div class="modal-content">
                                                    <div class="m-b-10" style="display: flex; justify-content: space-between; align-items: center;">
                                                        <h3 style="margin: -1px 10px 0 0;">Tùy chọn hàng ghế</h3>
                                                        <span class="close" onclick="closeOptionModal()">&times;</span>
                                                    </div>
                                                    <div class="btn btn-success m-t-10" onclick="addSeatToSelectedRow()">Thêm ghế vào hàng</div>
                                                    <div class="btn btn-success m-t-10" onclick="toggleSeatTypeForRow()">Đổi loại ghế của hàng (Thường/VIP)</div>
                                                    <div class="btn btn-success m-t-10" onclick="showRowModal('below')">Thêm hàng bên dưới</div>
                                                    <div class="btn btn-success m-t-10" onclick="showRowModal('above')">Thêm hàng bên trên</div>
                                                </div>
                                            </div>
                                            
                                            <!-- Modal cho thêm hàng ghế -->
                                            <div id="rowModal" class="modal">
                                                <div class="modal-content">
                                                    <div class="m-b-10" style="display: flex; justify-content: space-between; align-items: center;">
                                                        <h3 style="margin: -1px 10px 0 0;">Thêm hàng ghế</h3>
                                                        <span class="close" onclick="closeRowModal()">&times;</span>
                                                    </div>
                                                    <label class="font-weight-semibold text-left"  for="seatCount">Số ghế trong hàng:</label>
                                                    <input type="number" id="seatCount" placeholder="Số ghế trong hàng" min="1">
                                                    <label class="font-weight-semibold text-left m-t-10" for="seatCount">Tên hàng ghế:</label>
                                                    <input type="text" id="rowName" class="m-b-10" placeholder="Nhập tên hàng ghế" />
                                                    <div class="btn btn-success m-t-10" onclick="confirmAddRow()">Xác nhận thêm hàng</div>
                                                </div>
                                            </div>
                                            
                                            <!-- Modal sửa ghế -->
                                            <div id="editModal" class="modal">
                                                <div class="modal-content">
                                                    <div class="m-b-10" style="display: flex; justify-content: space-between; align-items: center;">
                                                        <h3 style="margin: -1px 10px 0 0;">Sửa ghế</h3>
                                                        <span class="close" onclick="closeEditModal()">&times;</span>
                                                    </div>
                                                    <div class="btn btn-success m-t-10" onclick="renameSeat()">Đổi tên ghế</div>
                                                    <div class="btn btn-success m-t-10" onclick="removeSeat()">Xóa ghế</div>
                                                    <div class="btn btn-success m-t-10" onclick="toggleSeatVisibility()">Ẩn/Hiện ghế</div>
                                                </div>
                                            </div>
                                            <!-- Modal đổi tên ghế -->
                                            <div id="renameSeatModal" class="modal" style="display: none;">
                                                <div class="modal-content">
                                                    <div class="m-b-10" style="display: flex; justify-content: space-between; align-items: center;">
                                                        <h3 style="margin: -1px 10px 0 0;">Đổi tên ghế</h3>
                                                        <span class="close" onclick="closeRenameSeatModal()">&times;</span>
                                                    </div>
                                                    <input class="m-0" type="text" id="newSeatName" placeholder="Nhập tên mới cho ghế">
                                                    <div class="btn btn-success m-t-10" onclick="confirmRenameSeat()">Xác nhận</div>
                                                </div>
                                            </div>
                                            <!-- Modal xác nhận xóa ghế -->
                                            <div id="deleteSeatModal" class="modal" style="display: none;">
                                                <div class="modal-content">
                                                    <h3>Xác nhận xóa ghế</h3>
                                                    <p>Bạn có chắc chắn muốn xóa ghế này không?</p>
                                                    <div class="btn btn-success m-t-10" onclick="confirmDeleteSeat()">Xác nhận</div>
                                                    <div class="btn btn-success m-t-10" onclick="closeDeleteSeatModal()">Hủy</div>
                                                </div>
                                            </div>
                    
                                            <!-- Modal xác nhận xóa hàng -->
                                            <div id="deleteRowModal" class="modal" style="display: none;">
                                                <div class="modal-content">
                                                    <h3>Xác nhận xóa hàng</h3>
                                                    <p>Bạn có chắc chắn muốn xóa hàng ghế này không?</p>
                                                    <div class="btn btn-success m-t-10" onclick="confirmDeleteRow()">Xác nhận</div>
                                                    <div class="btn btn-success m-t-10" onclick="closeDeleteRowModal()">Hủy</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center">
                                    <button class="btn btn-primary m-t-10" style="margin: 0 auto;">
                                        <i class="anticon anticon-save"></i>
                                        <span>Thêm phòng chiếu</span>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- Content Wrapper END -->
            <footer class="footer">
                <div class="footer-content">
                    <p class="m-b-0">Nguyen Van Hoang Hiep - Hoang Trung Phong - Developer</p>
                </div>
            </footer>
        </div>
        <!-- Page Container END -->



        <!-- Quick View START -->
        <div class="modal modal-right fade quick-view" id="quick-view">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header justify-content-between align-items-center">
                        <h5 class="modal-title">Cấu hình</h5>
                    </div>
                    <div class="modal-body scrollable">
                        <div class="m-b-30">
                            <h5 class="m-b-0">Màu tiêu đề</h5>
                            <p>Cấu hình màu tiêu đề</p>
                            <div class="theme-configurator d-flex m-t-10">
                                <div class="radio">
                                    <input id="header-default" name="header-theme" type="radio" checked value="default">
                                    <label for="header-default"></label>
                                </div>
                                <div class="radio">
                                    <input id="header-primary" name="header-theme" type="radio" value="primary">
                                    <label for="header-primary"></label>
                                </div>
                                <div class="radio">
                                    <input id="header-success" name="header-theme" type="radio" value="success">
                                    <label for="header-success"></label>
                                </div>
                                <div class="radio">
                                    <input id="header-secondary" name="header-theme" type="radio" value="secondary">
                                    <label for="header-secondary"></label>
                                </div>
                                <div class="radio">
                                    <input id="header-danger" name="header-theme" type="radio" value="danger">
                                    <label for="header-danger"></label>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div>
                            <h5 class="m-b-0">Điều hướng tối</h5>
                            <p>Bật chế độ tối cho thanh điều hướng</p>
                            <div class="switch d-inline">
                                <input type="checkbox" name="side-nav-theme-toogle" id="side-nav-theme-toogle">
                                <label for="side-nav-theme-toogle"></label>
                            </div>
                        </div>
                        <hr>
                        <div>
                            <h5 class="m-b-0">Thanh Menu</h5>
                            <p>Đổi thanh menu</p>
                            <div class="switch d-inline">
                                <input type="checkbox" name="side-nav-fold-toogle" id="side-nav-fold-toogle">
                                <label for="side-nav-fold-toogle"></label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>            
        </div>
        <!-- Quick View END -->
        </div>
    </div>

    
    <!-- Core Vendors JS -->
    <script src="assets/js/vendors.min.js"></script>

    <!-- page js -->
    <script src="assets/vendors/datatables/jquery.dataTables.min.js"></script>
    <script src="assets/vendors/datatables/dataTables.bootstrap.min.js"></script>
    <script src="assets/js/pages/e-commerce-order-list.js"></script>

    <!-- Core JS -->
    <script src="assets/js/app.min.js"></script>
    <script>   
        function showToast() {
            var toastHTML = `<div class="toast fade hide" data-delay="5000">
                <div class="toast-header">
                    <i class="anticon anticon-info-circle text-primary m-r-5"></i>
                    <strong class="mr-auto">Thông báo</strong>
                    <button type="button" class="ml-2 close" data-dismiss="toast" aria-label="Tắt">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="toast-body">
                    Bạn đã thêm khuyến mãi thành công!
                </div>
            </div>`
        
            $('#notification-toast').append(toastHTML)
            $('#notification-toast .toast').toast('show');
            setTimeout(function(){ 
                $('#notification-toast .toast:first-child').remove();
            }, 5000);
        }

        // Xử lý sự kiện submit
        document.getElementById("myForm").addEventListener("submit", function(event) {
        // Lưu thông tin về việc submit thành công vào localStorage
        localStorage.setItem("showToastAfterReload", "true");
        });

        // Kiểm tra khi trang được tải lại
        window.addEventListener("load", function() {
        if (localStorage.getItem("showToastAfterReload") === "true") {
            // Hiển thị toast
            showToast();
            // Xóa thông tin sau khi hiển thị để không hiện lại lần sau
            localStorage.removeItem("showToastAfterReload");
        }
        });
    </script>
    <script>
        let selectedSeat = null;
        let selectedRowContainer = null;
        let insertPosition = null;
        let existingRowNames = [];
        let currentRoom = null;

        let roomsData = {
            room1: [
                {
                    rows: '',
                    seats: [
                        {name: '', type:'', status:''}
                    ]
                }
            ]
        };

        function selectRoom() {
            // Khởi tạo existingRowNames với tên các hàng ghế có sẵn trong phòng đã chọn
            existingRowNames = roomsData['room1'].map(rowData => rowData.row);
            console.log("existingRowNames: ", existingRowNames)
            displaySeats(currentRoom);
        }

        selectRoom();

        function displaySeats(room) {
            document.getElementById('seatContainer').innerHTML = '';
            const rows = roomsData[room];

            if(rows){
                rows.forEach(rowData => {
                    const rowContainer = document.createElement('div');
                    rowContainer.className = 'row';
                    rowContainer.id = `row-${rowData.row}`;

                    rowData.seats.forEach(seatData => {
                        const seat = createSeat(rowData.row, seatData.name, seatData.type);
                        seat.style.opacity = seatData.status === 'hidden' ? '0.3' : '1'; // Khôi phục trạng thái ẩn/hiện
                        rowContainer.appendChild(seat);
                    });

                    const addSeatButton = document.createElement('button');
                    addSeatButton.className = 'add-seat-button';
                    addSeatButton.textContent = '+';
                    addSeatButton.onclick = function() {
                        selectedRowContainer = rowContainer;
                        showAddSeatModal();
                    };
                    
                    const deleteRowButton = document.createElement('button');
                    deleteRowButton.className = 'delete-row-button';
                    deleteRowButton.textContent = '×';
                    deleteRowButton.onclick = function() {
                        deleteRow(rowContainer);
                        showSaveButton();
                    };

                    rowContainer.appendChild(addSeatButton);
                    rowContainer.appendChild(deleteRowButton);

                    document.getElementById('seatContainer').appendChild(rowContainer);
                });
            }else {
                return
            }
        }

        function saveRoomData() {
            const seatContainer = document.getElementById('seatContainer');
            const rowElements = seatContainer.getElementsByClassName('row');
            const roomData = [];

            for (let row of rowElements) {
                const rowId = row.id.split('-')[1];
                const seats = Array.from(row.querySelectorAll('.seat')).map(seat => ({
                    name: seat.textContent,
                    type: seat.classList.contains('vip') ? 'vip' : 'normal',
                    status: seat.style.opacity === '0.3' ? 'hidden' : 'visible'
                }));

                roomData.push({ row: rowId, seats });
            }

            roomsData[currentRoom] = roomData;
            hideSaveButton();
        }

        function createSeat(row, seatName, seatType) {
            const seat = document.createElement('div');
            seat.className = `seat ${seatType}`;
            seat.textContent = seatName;
            seat.onclick = function() {
                selectedSeat = seat;
                showEditModal();
            };
            return seat;
        }

        function addSeatToSelectedRow() {
            if (selectedRowContainer) {
                const firstSeat = selectedRowContainer.querySelector('.seat');
                const seatType = firstSeat && firstSeat.classList.contains('vip') ? 'vip' : 'normal';

                const seatCount = selectedRowContainer.querySelectorAll('.seat').length;
                const seatName = selectedRowContainer.id.split('-')[1] + (seatCount + 1);

                const seat = createSeat(selectedRowContainer.id.split('-')[1], seatName, seatType);
                selectedRowContainer.insertBefore(seat, selectedRowContainer.querySelector('.add-seat-button'));
                
                closeOptionModal();
                showSaveButton();
            }
        }

        function renameSeat() {
            if (selectedSeat) {
                document.getElementById('newSeatName').value = selectedSeat.textContent; // Đặt tên ghế hiện tại vào ô nhập
                document.getElementById('renameSeatModal').style.display = 'block'; // Hiển thị modal đổi tên
                closeEditModal();
            }
        }

        function confirmRenameSeat() {
            const newName = document.getElementById('newSeatName').value.trim();
            if (newName && selectedSeat) {
                selectedSeat.textContent = newName;
                showSaveButton();
            }
            closeRenameSeatModal();
        }

        function closeRenameSeatModal() {
            document.getElementById('renameSeatModal').style.display = 'none';
        }

        function toggleSeatVisibility() {
            if (selectedSeat) {
                selectedSeat.style.opacity = selectedSeat.style.opacity === '0.3' ? '1' : '0.3';
                showSaveButton();
            }
            closeEditModal();
        }

        function toggleSeatTypeForRow() {
            if (selectedRowContainer) {
                const seats = selectedRowContainer.querySelectorAll('.seat');
                const isNormal = Array.from(seats).some(seat => seat.classList.contains('normal'));

                seats.forEach(seat => {
                    seat.classList.toggle('normal', !isNormal);
                    seat.classList.toggle('vip', isNormal);
                });
                showSaveButton();
                closeOptionModal();
            }
        }

        function showSaveButton() {
            document.getElementById('saveButton').style.display = 'inline-block';
        }

        function hideSaveButton() {
            document.getElementById('saveButton').style.display = 'none';
        }

        function addSeat(rowContainer, rowLabel, seatType) {
            const seatCount = rowContainer.querySelectorAll('.seat').length;
    
            if (seatCount >= 15) {
                alert("Không thể thêm ghế mới. Số lượng ghế tối đa trong một hàng là 15.");
                return;
            }
    
            const seatNumber = seatCount + 1;
            const seat = createSeat(rowLabel, seatNumber, seatType);
            rowContainer.insertBefore(seat, rowContainer.querySelector('.add-seat-button'));
        }
    
        function showAddSeatModal() {
            if (selectedRowContainer) {
                document.getElementById('optionModal').style.display = 'block';
            }
        }
    
        function addRow() {
            insertPosition = null; // Thêm hàng mới ở cuối nếu không có vị trí cụ thể
            showRowModal();
        }
    
        function showRowModal(position) {
            insertPosition = position; // Lưu vị trí thêm hàng (above hoặc below)
            document.getElementById('rowModal').style.display = 'block';
        }
    
        function confirmAddRow() {
            const rowNameInput = document.getElementById('rowName');
            const rowName = rowNameInput.value.trim().toUpperCase();
            if (existingRowNames.includes(rowName)) {
                alert("Tên hàng ghế đã tồn tại. Vui lòng chọn tên khác.");
                return;
            }
    
            const seatCount = document.getElementById('seatCount').value;
    
            if (!seatCount || seatCount < 1) {
                alert('Vui lòng nhập số ghế hợp lệ.');
                return;
            }
    
            const seatContainer = document.getElementById('seatContainer');
            const currentRowCount = seatContainer.childElementCount;
    
            if (currentRowCount >= 10) {
                alert("Không thể thêm hàng mới. Số lượng hàng tối đa là 10.");
                return;
            }
    
            const rowContainer = document.createElement('div');
            rowContainer.className = 'row';
            rowContainer.id = `row-${rowName}`;
    
            for (let i = 1; i <= seatCount; i++) {
                const name = rowName + i;
                const seat = createSeat(rowName, name, 'normal');
                rowContainer.appendChild(seat);
            }
    
            const addSeatButton = document.createElement('button');
            addSeatButton.className = 'add-seat-button';
            addSeatButton.textContent = '+';
            addSeatButton.onclick = function() {
                selectedRowContainer = rowContainer;
                showAddSeatModal();
            };
    
            const deleteRowButton = document.createElement('button');
            deleteRowButton.className = 'delete-row-button';
            deleteRowButton.textContent = '×';
            deleteRowButton.onclick = function() {
                deleteRow(rowContainer);
            };
    
            rowContainer.appendChild(addSeatButton);
            rowContainer.appendChild(deleteRowButton);
    
            // Thêm hàng mới vào vị trí chỉ định
            if (insertPosition === 'above' && selectedRowContainer) {
                seatContainer.insertBefore(rowContainer, selectedRowContainer);
                closeOptionModal();
                showSaveButton();
            } else if (insertPosition === 'below' && selectedRowContainer) {
                seatContainer.insertBefore(rowContainer, selectedRowContainer.nextSibling);
                closeOptionModal();
                showSaveButton();
            } else {
                seatContainer.appendChild(rowContainer);
                showSaveButton();
            }
    
            existingRowNames.push(rowName);
            rowNameInput.value = '';
            closeRowModal();

            let buttonadd = document.getElementsByClassName('add-seat-button');

            for (let i = 0; i < buttonadd.length; i++) {
                buttonadd[i].addEventListener("click", function(event) {
                    event.preventDefault();
                });
            }

            let buttondel = document.getElementsByClassName('delete-row-button');

            for (let i = 0; i < buttondel.length; i++) {
                buttondel[i].addEventListener("click", function(event) {
                    console.log(buttondel[i]);
                    event.preventDefault();
                });
            }
        }
    
        function closeOptionModal() {
            document.getElementById('optionModal').style.display = 'none';
        }
    
        function closeRowModal() {
            document.getElementById('rowModal').style.display = 'none';
        }
    
        function showEditModal() {
            document.getElementById('editModal').style.display = 'block';
        }
    
        function closeEditModal() {
            document.getElementById('editModal').style.display = 'none';
        }

        function removeSeat() {
            if (selectedSeat) {
                document.getElementById('deleteSeatModal').style.display = 'block'; // Hiển thị modal xóa ghế
            }
        }

        function confirmDeleteSeat() {
            if (selectedSeat) {
                selectedSeat.remove();
                selectedSeat = null;
                showSaveButton();
            }
            closeDeleteSeatModal();
        }

        function closeDeleteSeatModal() {
            document.getElementById('deleteSeatModal').style.display = 'none';
        }

        function deleteRow(rowContainer) {
            selectedRowContainer = rowContainer;
            document.getElementById('deleteRowModal').style.display = 'block'; // Hiển thị modal xóa hàng ghế
        }

        function confirmDeleteRow() {
            if (selectedRowContainer) {
                const rowName = selectedRowContainer.id.split('-')[1];
                const index = existingRowNames.indexOf(rowName);
                if (index > -1) {
                    existingRowNames.splice(index, 1); // Xóa tên hàng khỏi existingRowNames
                }
                selectedRowContainer.remove();
                selectedRowContainer = null;
                showSaveButton();
            }
            closeDeleteRowModal();
        }

        function closeDeleteRowModal() {
            document.getElementById('deleteRowModal').style.display = 'none';
        }
    </script>
</body>

</html>